<!--
    TO-DO:
    1. "P" to repeat previous and current
    2. Add key legend
    3. Change keyboard layout
    4. Use arrow keys to switch between tabs
-->

<!DOCTYPE html>
<html id="html">

<head>
    <title>Ear Training</title>
    <link rel="stylesheet" href="Style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src='https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js'></script>
    <script src="https://tonejs.github.io/build/Tone.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>

<body scroll="no">
    <div id="tabs">
        <div id="singleNoteTraining" class="tab">
            <h1>Single Note Training</h1>
            <p>Press Space to play a note</p>
            <br>
            <p id="noteText"></p>
            <br>
            <br>
        </div>
        <div id="intervalTraining" class="tab">
            <h1>Interval Training</h1>
            <p>Press Space to play an interval</p>
            <br>
            <p id="intervalText"></p>
            <br>
            <div id="intervalSelector">
                <button id="0" onclick="selectInterval(0)">1</button>
                <button id="1" onclick="selectInterval(1)">b2</button>
                <button id="2" onclick="selectInterval(2)">2</button>
                <button id="3" onclick="selectInterval(3)">b3</button>
                <button id="4" onclick="selectInterval(4)">3</button>
                <button id="5" onclick="selectInterval(5)">4</button>
                <button id="6" onclick="selectInterval(6)">b5</button>
                <button id="7" onclick="selectInterval(7)">5</button>
                <button id="8" onclick="selectInterval(8)">b6</button>
                <button id="9" onclick="selectInterval(9)">6</button>
                <button id="10" onclick="selectInterval(10)">b7</button>
                <button id="11" onclick="selectInterval(11)">7</button>
                <button id="12" onclick="selectInterval(12)">8</button>
            </div>
        </div>
        <div id="melodyTraining" class="tab">
            <h1>Melody Training</h1>
            <p>Press Space to play a melody</p>
        </div>
    </div>
    <script src="Main.js"></script>
    <script src="SingleNoteTraining.js"></script>
    <script src="IntervalTraining.js"></script>
    <script type="text/javascript">
        // Import from matheweon.github.io if the local file cannot be found
        function appendScript(localPath, filepath) {
            if ($('body script[src="' + localPath + '"]').length > 0)
                return;

            var ele = document.createElement('script');
            ele.setAttribute("type", "text/javascript");
            ele.setAttribute("src", filepath);
            $('body').append(ele);
        }

        function appendStyle(localPath, filepath) {
            if ($('head link[href="' + localPath + '"]').length > 0)
                return;

            var ele = document.createElement('link');
            ele.setAttribute("type", "text/css");
            ele.setAttribute("rel", "Stylesheet");
            ele.setAttribute("href", filepath);
            $('head').append(ele);
        }

        appendStyle("Style.css", "https://matheweon.github.io/Music/EarTraining/Style.css");
        appendScript("Main.js", "https://matheweon.github.io/Music/EarTraining/Main.js");
        appendScript("SingleNoteTraining.js", "https://matheweon.github.io/Music/EarTraining/SingleNoteTraining.js");
        appendScript("IntervalTraining.js", "https://matheweon.github.io/Music/EarTraining/IntervalTraining.js");
    </script>
</body>

</html>
